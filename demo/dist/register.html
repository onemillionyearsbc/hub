<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,400i|Nunito:300,300i" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" type="image/png" href="img/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <script src="scripts/fontawesome-all.js"></script>
    <title>Hub++ Back to the Future of Recruiting</title>
</head>

<body>
    <div class="container">
        <header class="header animated slideInLeft delay-2s">
            <div class="header__topbar">

                <div class="topleft">
                    <a href="index.html">
                        <img src="img/logo-small.png" alt="1MYBC">
                    </a>
                    <!-- <img src="img/logo-small.png" alt="1MYBC"> -->
                </div>
                <div class="topright">
                    <span class="topright__banner">Are you recruiting?</span>
                    <button class="btn" type="submit" topright__btn btn">Advertise Now</button>
                </div>
            </div>
        </header>

        <div class="content">
            <nav class="navbar animated slideInRight delay-2s">
                <ul class="navbar__left">
                    <li class="item-1"><a href="#jobs">IT Jobs</a></li>
                    <li><a href="#companies">Companies Hiring</a></li>
                    <li><a href="#tools">Blockchain tools</a></li>
                </ul>
                <ul class="navbar__right">

                    <!-- <svg class="star"></svg>
                    <use xlink:href="img/sprite.svg#star-full"></use> -->
                    <li><a href="#saved" class="link-icon star"><i class="icon fas fa-star"></i>Saved Jobs<div class="circle">10</div></a></li>

                    <li><a href="#signin" class="link-icon"><i class="icon far fa-user"></i>Sign In</a></li>
                </ul>
            </nav>
        </div>

        <ul class="tabs" role="tablist">
            <li>
                <input type="radio" name="tabs" id="tab1" checked />
                <label class="tablabel" for="tab1" role="tab" aria-selected="true" aria-controls="panel1" tabindex="0">Jobseeker
                    Sign In</label>
                <div id="tab-content1" class="tab-content" role="tabpanel" aria-labelledby="jobseeker" aria-hidden="false">
                    <div class="form-collection  animated fadeInUp delay-2s">
                        <div class="card elevation-3 limit-width log-in-card above ">

                            <div class="card-body loginform">
                                <div class="title">
                                    <p class="loginform__card-title">Jobseeker Sign In <p>
                                </div>
                                <p class="instruct">New to Hub++? Click on the register tab</p>
                                <div class="input-group email">
                                    <input id="email" class="loginform__textfield" type="text" placeholder="Email"
                                        autocomplete="off" />
                                    <label for="email" class="loginform__label">Email</label>
                                </div>
                                <div class="input-group password">
                                    <input id="password" class="loginform__textfield" type="password" placeholder="Password"
                                        autocomplete="off" />
                                    <label for="password" class="loginform__label">Password</label>
                                </div>
                                <a href="#" class="box-btn">Forgot Password?</a>
                            </div>
                            <div class="card-footer">

                                <button type="submit" class="login-btn">Sign in</button>

                                <!-- <i class="icon far fa-arrow-right"></i> -->
                                <!-- <i class="fal fa-arrow-right"></i> -->
                                <!-- <span><i class="fa fa-right"></i></span> -->
                                <!-- <a href="#signin" class="link-icon"><i class="icon far fa-user"></i>Sign In</a> -->
                            </div>
                        </div>

                        <div class="card elevation-2 limit-width sign-up-card below turned">

                            <div class="card-body loginform">
                                <div class="title">
                                    <p class="loginform__card-title">JobSeeker Register</p>
                                </div>
                                <div class="input-group fullname">
                                    <input id="name" class="loginform__textfield" type="text" placeholder="Full Name"
                                        autocomplete="off" />
                                    <label for="name" class="loginform__label">Full Name</label>
                                </div>
                                <div class="input-group email">
                                    <input id="email" class="loginform__textfield" type="email" placeholder="Email"
                                        autocomplete="off" />
                                    <label for="email" class="loginform__label">Email</label>
                                </div>
                                <div class="input-group password">
                                    <input id="password" class="loginform__textfield" type="password" placeholder="Password"
                                        autocomplete="off" />
                                    <label for="password" class="loginform__label">Password</label>
                                </div>
                                <div class="input-group location">
                                    <input id="location" class="loginform__textfield" type="text" placeholder="Location"
                                        autocomplete="off" />
                                    <label for="location" class="loginform__label">Location</label>
                                </div>
                            </div>
                            <div class="card-footer">
                                <button type="submit" class="signup-btn">Register</button>
                            </div>
                        </div>
                    </div>
                </div>
            </li>

            <li>
                <input type="radio" name="tabs" id="tab2" />
                <label class="tablabel" for="tab2" role="tab" aria-selected="false" aria-controls="panel2" tabindex="1">Recruiter
                    Sign In</label>
                <div id="tab-content2" class="tab-content" role="tabpanel" aria-labelledby="specification" aria-hidden="true">
                    <div class="form-collection  animated fadeInUp delay-2s">
                        <form id="rl" class="myForm" top="true">
                            <div class="card elevation-3 limit-width log-in-card above" top="true">

                                <div class="card-body loginform">
                                    <div class="title">
                                        <p class="loginform__card-title">Recruiter Sign In <p>
                                    </div>
                                    <div class="input-group email">
                                        <input id="email" class="loginform__textfield" type="text" placeholder="Email"
                                            autocomplete="off" />
                                        <label for="email" class="loginform__label">Email</label>
                                    </div>
                                    <div class="input-group password">
                                        <input id="password" class="loginform__textfield" type="password" placeholder="Password"
                                            autocomplete="off" />
                                        <label for="password" class="loginform__label">Password</label>
                                    </div>
                                    <a href="#" class="box-btn">Forgot Password?</a>
                                </div>
                                <div class="card-footer">
                                    <button type="button" class="submit">Sign in</button>
                                </div>
                            </div>
                        </form>
                        <form id="rr" class="myForm" top="false">
                            <div class="card elevation-2 limit-width sign-up-card below turned" top="false">

                                <div class="card-body loginform">
                                    <div class="title">
                                        <p class="loginform__card-title">Recruiter Register</p>
                                    </div>
                                    <div class="input-group fullname">
                                        <input id="name" class="loginform__textfield" type="text" placeholder="Full Name"
                                            autocomplete="off" />
                                        <label for="name" class="loginform__label">Full Name</label>
                                    </div>
                                    <div class="input-group email">
                                        <input id="email" class="loginform__textfield" type="email" placeholder="Email"
                                            autocomplete="off" />
                                        <label for="email" class="loginform__label">Email</label>
                                    </div>
                                    <div class="input-group password">
                                        <input id="password" class="loginform__textfield" type="password" placeholder="Password"
                                            autocomplete="off" />
                                        <label for="password" class="loginform__label">Password</label>
                                    </div>
                                    <div class="input-group company">
                                        <input id="company" class="loginform__textfield" type="text" placeholder="Company"
                                            autocomplete="off" />
                                        <label for="company" class="loginform__label">Company</label>
                                    </div>

                                </div>
                                <div id="bum" class="card-footer">
                                    <button type="button" class="submit">Register</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </li>
        </ul>
    </div>

<script type="text/javascript" src="js/bundle.js"></script></body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
    $(document).on('click', '.below button', function () {
        var belowCard = $('.below'),
            aboveCard = $('.above'),
            parent = $('.form-collection');
        parent.addClass('animation-state-1');
        setTimeout(function () {
            belowCard.removeClass('below');
            aboveCard.removeClass('above');
            belowCard.addClass('above');
            aboveCard.addClass('below');
            // document.querySelectorAll("myForm").reset();

            var forms = document.getElementsByClassName('myForm'), i;

            console.log("bollocks, form length=" + forms.length);
            for (i = 0; i < forms.length; i++) {
                forms[i].reset();
                var top = forms[i].getAttribute("top");
                if (top == "false") {
                    forms[i].setAttribute("top", "true");
                } else {
                    forms[i].setAttribute("top", "false");
                }
            }
            setTimeout(function () {
                parent.addClass('animation-state-finish');
                parent.removeClass('animation-state-1');
                setTimeout(function () {
                    aboveCard.addClass('turned');
                    belowCard.removeClass('turned');
                    parent.removeClass('animation-state-finish');
                }, 300)
            }, 10)
        }, 300);
    });
</script>
<script type="text/javascript">

    var forms = document.getElementsByClassName('submit'), i;

    for (i = 0; i < forms.length; i++) {
        forms[i].addEventListener('click', formHandler);
    };

    function formHandler(e) {

        var btn = e.target;
        form = btn.parentElement.parentElement.parentElement;
        var onTop = form.getAttribute("top");

        // don't fire the submit form data stuff unless the screen is on top
        // otherwise it fires when we bring the screen to the front as well
        if (onTop == "false") {
            return;
        }

        // document.getElementById("uniqueID").value;
        e.preventDefault();

        var el = form.querySelectorAll('input');
        var myData = {};
       
        for (var x = 0; x < el.length; x++) {
            var id = el[x].id;
            var value = el[x].value;
            myData[id] = value;
            console.log(id + "--" + value);
            // myData += name + '=' + value + '&'
        }
        console.log(myData["email"]);
        var formData = {
            $class: "io.onemillionyearsbc.hubtutorial.CreateRecruiterAccount",
            company: myData["company"],
            accountType: "RECRUITER",
            email: myData["email"],
            password: myData["password"]
        };

        var data = JSON.stringify(formData);
        console.log(data);


        loadJSON(data);
    };

   
    async function loadJSON(data) {
        try {
            const url = 'http://84.117.182.193:3000/api/io.onemillionyearsbc.hubtutorial.CreateRecruiterAccount';
            const myData = data;
            var response = await fetch(url,
                {
                    method: 'post',
                    headers: { 'Content-type': 'application/json' },
                    body: myData
                });

            var data = await response.json();

            console.log(data);

            window.location = "dashboard.html";
        } catch (error) {
            console.log(error);
        }
    }
</script>

</html>